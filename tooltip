你说得很对。出现“点击无效”的原因通常是因为在 Ant Design 的开发习惯中，我们常把路由跳转的 `<Link>` 组件写在 `label` 里。

当代码逻辑变成 `label: collapsed ? null : <Link...>` 时，**收起状态下 `<Link>` 组件直接被移除dom了**，导致点击 Icon 无法触发路由跳转，或者点击区域变得极为诡异。

为了解决这个问题，同时实现“自定义 Tooltip 颜色且不污染全局”，我们需要**将“路由跳转逻辑”与“Label 显示逻辑”解耦**。

以下是两个修复方案，推荐使用 **方案一**。

-----

### 方案一：使用 `onClick` 进行编程式导航 (最推荐)

这是 Ant Design 官方最推荐的做法。不要把 `<Link>` 塞进 `items` 的 `label` 里，而是利用 Menu 组件自带的 `onClick` 事件来处理跳转。

这样无论 `label` 是否存在，只要点击了菜单项（Item），都能正常跳转。

```jsx
import React, { useState } from 'react';
import { Menu, Tooltip } from 'antd';
import { useNavigate } from 'react-router-dom'; // 假设你使用的是 react-router v6
import { UserOutlined } from '@ant-design/icons';

const App = () => {
  const [collapsed, setCollapsed] = useState(true);
  const navigate = useNavigate(); // 获取路由跳转钩子

  // 1. 定义菜单项
  const items = [
    {
      key: '/users', // 将 key 设为路由路径，方便直接跳转
      icon: collapsed ? (
        <Tooltip 
          title="用户管理" 
          placement="right" 
          color="#f50" // 这里修改你想要的颜色
        >
          <UserOutlined />
        </Tooltip>
      ) : (
        <UserOutlined />
      ),
      // 2. 收起时 label 设为空字符串 ''，而不是 null
      // 空字符串可以骗过 Antd 不显示默认 Tooltip，但保留了 Item 的点击结构
      label: collapsed ? '' : '用户管理',
    },
  ];

  // 3. 统一处理点击跳转
  const handleMenuClick = ({ key }) => {
    navigate(key); // 点击任何一部分（图标或文字）都会触发这里
  };

  return (
    <div style={{ width: 256 }}>
      <Menu
        mode="inline"
        inlineCollapsed={collapsed}
        items={items}
        onClick={handleMenuClick} // 绑定点击事件
      />
    </div>
  );
};

export default App;
```

**为什么这样能修好？**

  * **点击有效性**：点击事件绑定在父级 `Menu` 上，点击 `icon` 区域依然会冒泡触发 `onClick`，所以路由跳转正常。
  * **隐藏默认 Tooltip**：将 `label` 设为 `''` (空字符串)，Antd 会认为有内容所以不会报错，但因为内容为空，默认的 Tooltip 通常不会显示（或者显示为空），而我们在 Icon 上包裹的自定义 Tooltip 会生效。

-----

### 方案二：坚持使用 Link 组件 (如果不方便改 onClick)

如果你必须使用 `<Link>` 组件（例如为了 SEO 或右键“在新标签页打开”功能），你需要**在收起状态下，把 Link 包裹在 Icon 外面**。

```jsx
import { Link } from 'react-router-dom';

const items = [
  {
    key: '1',
    icon: collapsed ? (
      // 收起时：结构是 Tooltip -> Link -> Icon
      // 注意：Tooltip 包在 Link 外面可能导致无法点击，通常建议 Tooltip -> Link -> Icon
      // 但更稳妥的是：Link -> Tooltip -> Icon (让 Link 成为最外层交互元素)
      <Link to="/users">
        <Tooltip title="用户管理" placement="right" color="purple">
          <UserOutlined />
        </Tooltip>
      </Link>
    ) : (
      <UserOutlined />
    ),
    // 展开时：Link 在 label 里
    label: collapsed ? '' : <Link to="/users">用户管理</Link>,
  },
];
```

**注意**：
方案二在代码维护上比较麻烦，因为你需要在 `icon` 和 `label` 两个地方都写一遍 `<Link to="...">`。而且在收起状态下，如果 `label` 为空，Antd 可能会调整 padding，导致点击区域仅限于那个小小的图标，用户体验不如方案一（方案一点击整行空白处通常也能触发）。

### 总结

请优先使用 **方案一（onClick + useNavigate）**，并将 `label` 在收起时设为 `''`（空字符串）。这样既能自定义 Tooltip 颜色，又能完美保证点击和路由跳转功能。
